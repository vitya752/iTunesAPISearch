(window.webpackJsonpitunessearch=window.webpackJsonpitunessearch||[]).push([[0],{16:function(e,t,a){e.exports=a(32)},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),s=a(2),u=a(3),o=a(5),l=a(4),m=a(6),p=(a(21),a(22),a(9),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={selectedType:a.props.typesMedia[0].value,term:""},a.onChangeType=function(e){a.setState({selectedType:e.target[e.target.selectedIndex].value})},a.onChangeTerm=function(e){a.setState({term:e.target.value})},a.onSubmit=function(e){var t=a.state,n=t.selectedType,r=t.term;e.preventDefault(),a.props.onSubmitQuery(n,r)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.typesMedia.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}));return r.a.createElement("div",{className:"container-search"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Search")),r.a.createElement("select",{className:"form-control select-custom",onChange:this.onChangeType,value:this.state.selectedType},e),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.onChangeTerm,value:this.state.term}),r.a.createElement("button",{type:"submit",className:"btn btn-success btn-submit"},"Search"))))}}]),t}(n.Component)),d=(a(23),function(e){var t=e.name,a=(e.url,e.img),n=(e.price,e.playMedia);return r.a.createElement("li",{"data-name":t,onClick:n},r.a.createElement("img",{src:a,alt:t}))}),v=(a(24),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={enable:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=100,t=this.props,a=t.data,n=t.activeMedia,c=t.playMedia,i=n?" active":"",s=0===a.length?"\u041f\u0443\u0441\u0442\u043e":a.map((function(t){var a=t.name,n=t.url,i=t.img,s=t.price;return r.a.createElement(d,{key:e++,url:n,name:a,img:i,price:s,playMedia:function(){return c(n)}})}));return r.a.createElement("ul",{className:"content ".concat(i)},s)}}]),t}(n.Component)),f=(a(25),a(14)),h=a(15),b=function(e){var t,a=e.url,n=e.typeMedia,c=e.closeMedia;switch(n){case"music":t=r.a.createElement("audio",{controls:!0,src:a});break;default:t=r.a.createElement("video",{controls:!0,src:a})}return r.a.createElement("div",{className:"media"},t,r.a.createElement("button",{type:"button",className:"btn btn-danger btn-custom",onClick:c},r.a.createElement(f.a,{icon:h.a})))},y=a(7),g=a.n(y),M=a(11),E=function e(){var t=this;Object(s.a)(this,e),this._apiBase="https://itunes.apple.com/search",this.getResource=function(){var e=Object(M.a)(g.a.mark((function e(a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(t._apiBase).concat(a)),e.next=3,fetch(n,{method:"POST"});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMedia=function(){var e=Object(M.a)(g.a.mark((function e(a,n){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.toLowerCase().split(" ").join("+"),e.next=3,t.getResource("?term=".concat(r,"&media=").concat(n));case 3:return c=e.sent,e.next=6,c.results.map(t._transformResults);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this._transformResults=function(e){return{name:e.trackName,img:e.artworkUrl100,url:e.previewUrl,price:e.trackPrice}}},w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).iTunesService=new E,a._maxId=100,a.state={data:[],term:"",media:"musicVideo",activeMedia:!1,url:""},a.playMedia=function(e){var t=a.state.activeMedia;window.scrollTo(0,0),a.setState({activeMedia:!t,url:e})},a.closeMedia=function(){a.setState({activeMedia:!1})},a.onSubmitQuery=function(e,t){a.iTunesService.getMedia(t,e).then((function(n){a.setState((function(a){return{data:n,media:e,term:t}}))})).catch((function(){a.setState({data:[],media:e,term:t})}))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.media,c=t.activeMedia,i=t.url,s=c?r.a.createElement(b,{url:i,typeMedia:n,closeMedia:this.closeMedia}):null;return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"container"},r.a.createElement(p,{typesMedia:[{label:"Music Video",value:"musicVideo"},{label:"Music",value:"music"},{label:"Movie",value:"movie"},{label:"Audiobook",value:"audiobook"}],onSubmitQuery:this.onSubmitQuery}),r.a.createElement(v,{data:a,activeMedia:c,playMedia:function(t){return e.playMedia(t)}}),s))}}]),t}(n.Component);i.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.c15178cc.chunk.js.map